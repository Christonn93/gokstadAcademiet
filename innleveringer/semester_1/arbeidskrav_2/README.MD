# Library Database System - README

## ğŸ¢ Project Overview
The **ga_bibliotek** database system is designed to support a small library's operations, allowing users to borrow books while maintaining comprehensive records of books, copies, borrowers, and loan transactions.

---

## ğŸ“‹ Table of Contents
- [Assignment brief](#Assignment brief)
- [Installation](#installation)
- [Folder Structure](#folder-structure)
- [Usage](#usage)
- [Contributing](#contributing)
- [License](#license)
- [Contact](#contact)
- [Acknowledgments](#acknowledgments)
- [Resources](#resources)
- [AI Documentation](#ai-documentation)

---

## Assignment brief

I wanted to deliver the assignment as a fully working program. To point teachers to code that have relation with assignment task, I have decided to list codefiles here for easy navigation

### Task 1 - Opprettelse av Databasen og Tabellene

1. [Database script](python/db/sql/create_database.sql)
2. [Database tables](python/db/sql/create_database_tables.sql)
3. [Database seeding](python/db/sql/seed_database.sql)

### Task 2 - ForstÃ¥else og forklaring av database design

[Database Readme](./.docs/database/README.md)

### Task 3 

[Queries](python/db/sql/queries.sql)

### Task 4 - Python og MySQL Integration 

---

## ğŸ› ï¸ Installation

### Prerequisites
- Docker and Docker Compose
- Python 3.12+
- MySQL Connector for Python

### Setup Steps

#### 1. Install Python 3.12

**Windows & macOS**
- Download Python 3.12 from the official Python website.
- Run the installer (ensure "Add Python to PATH" is checked).
- Check installation:

```bash
  python --version
```

#### 2. Clone and enter the repository

```bash
   git clone <repository-url>
   cd innleveringer/semester_1/arbeidskrav_2
```

#### 3. Create a virtual environment

```bash
    python -m venv .venv
```

#### 4. Activate the environment

**Windows:**
```bash
    .venv\Scripts\activate
```

**macOS/Linux:**
```bash
    source .venv/bin/activate
```

#### 5. **Install Python dependencies**

```bash
  python.exe -m pip install --upgrade pip
```


```bash
   pip install -r requirements.txt
```

#### 6. **Configure Environment Variables**
   - Copy `.env.example` to `.env`
   - Update the values in `.env` as needed


#### 7. **Start Database Services**
   ```bash
    docker run -p 3306:3306 --name ga-mysql-2025 -v ga-vol-2025:/var/lib/mysql -d --restart unless-stopped yngvemag/ga-mysql-db
   ```

---

## ğŸƒ Run the project

1. Run Python scripts
    ```bash
        python ./python/main.py
    ```

> Can also run it with the included docker. Then the default docker needs to be closed

Start docker container
    ```bash
        docker compose -f ./docker/compose.yml up -d
    ```
> You can now navigate to [phpMyadmin](http://localhost:8080/index.php) in the browser, input the password and username to view a local version of your database

NOTE: Not fully operative!!! 

---



## ğŸ“‚ Folder Structure
```
arbeidskrav_2/
â”œâ”€â”€ .docs/                      â† Contains project documentation, including AI-generated suggestions and images.
â”œâ”€â”€ docker/                     â† Contains Docker-related files for containerizing the application.
â”‚   â”œâ”€â”€ Dockerfile              â† Defines the Docker image for the Python application.
â”‚   â””â”€â”€ compose.yml             â† Defines the Docker Compose services for the application and database.
â”œâ”€â”€ init.d/                     â† Contains initialization scripts for the database.
â”‚   â””â”€â”€ 10-init.sql             â† SQL script for initial database setup.
â”œâ”€â”€ src/                        â† Contains the main source code for the Python application.
â”‚   â”œâ”€â”€ config/                 â† Contains configuration files for the application.
â”‚   â”‚   â””â”€â”€ database.py         â† Contains database configuration settings.
â”‚   â”œâ”€â”€ constants/              â† Contains constant values used throughout the application.
â”‚   â”‚   â”œâ”€â”€ base.py             â† Contains base constants.
â”‚   â”‚   â””â”€â”€ sql_files.py        â† Contains paths to SQL files.
â”‚   â”œâ”€â”€ database/               â† Contains modules for interacting with the database.
â”‚   â”‚   â”œâ”€â”€ sql/                â† Contains SQL scripts for database operations.
â”‚   â”‚   â”‚   â”œâ”€â”€ create_database.sql       â† SQL script for creating the database.
â”‚   â”‚   â”‚   â”œâ”€â”€ create_database_tables.sqlâ† SQL script for creating database tables.
â”‚   â”‚   â”‚   â”œâ”€â”€ queries.sql               â† Contains various SQL queries.
â”‚   â”‚   â”‚   â””â”€â”€ seed_database.sql         â† SQL script for seeding the database with initial data.
â”‚   â”‚   â”œâ”€â”€ connect_db.py       â† Module for connecting to the database.
â”‚   â”‚   â”œâ”€â”€ create_db.py        â† Module for creating the database.
â”‚   â”‚   â”œâ”€â”€ create_db_tables.py â† Module for creating database tables.
â”‚   â”‚   â”œâ”€â”€ disconnect_db.py    â† Module for disconnecting from the database.
â”‚   â”‚   â”œâ”€â”€ drop_db.py          â† Module for dropping the database.
â”‚   â”‚   â”œâ”€â”€ query_db.py         â† Module for querying the database.
â”‚   â”‚   â””â”€â”€ seed_db.py          â† Module for seeding the database.
â”‚   â”œâ”€â”€ interface/              â† Contains the user interface for the application.
â”‚   â”‚   â””â”€â”€ program.py          â† The main command-line interface for the application.
â”‚   â”œâ”€â”€ services/               â† Contains the business logic for the application.
â”‚   â”‚   â”œâ”€â”€ book_service.py     â† Service for managing books.
â”‚   â”‚   â”œâ”€â”€ borrower_service.py â† Service for managing borrowers.
â”‚   â”‚   â”œâ”€â”€ database_service.py â† Service for managing the database.
â”‚   â”‚   â””â”€â”€ loan_service.py     â† Service for managing loans.
â”‚   â””â”€â”€ utils/                  â† Contains utility functions and helper modules.
â”‚       â”œâ”€â”€ handlers/           â† Contains handlers for various tasks.
â”‚       â”œâ”€â”€ helpers/            â† Contains helper functions.
â”‚       â””â”€â”€ __init__.py         â† Initializes the utils package.
â”œâ”€â”€ .env.example                â† Example environment file.
â”œâ”€â”€ .gitignore                  â† Specifies files and directories to be ignored by Git.
â”œâ”€â”€ main.py                     â† The main entry point for the application.
â”œâ”€â”€ README.MD                   â† This file.
â””â”€â”€ requirements.txt            â† Contains the Python dependencies for the project.
```
---

## ğŸ’½ Program logics

```
[ main.py ] â”€â”€â”€â”€â”€â”€â”€â”€ user interface
     â”‚
     â–¼
[ book_functions.py / loan_functions.py ] â”€â”€â”€ business rules
     â”‚
     â–¼
[ utils.handlers ] â”€â”€â”€ workflow management (errors, input)
     â”‚
     â–¼
[ utils.helpers ] â”€â”€â”€ stateless utilities (validation, formatting)
     â”‚
     â–¼
[ lib.db ] â”€â”€â”€ infrastructure (connection, queries)
```

---

## ğŸ§© Functional Mapping

| Assignment Task              | Implemented in                 | Core Function(s)                            |
|------------------------------|--------------------------------|---------------------------------------------|
| Connect to database          | `db/db_connection.py`          | `create_connection()`, `close_connection()` |
| Fetch all books              | `services/book_service.py`     | `get_all_books()`                           |
| Search books by title/author | `services/book_service.py`     | `search_books(keyword)`                     |
| Register new loan            | `services/loan_service.py`     | `register_loan(lnr, isbn, eksnr, date)`     |
| Return book                  | `services/loan_service.py`     | `return_book(utlansnr)`                     |
| Show borrower history        | `services/loan_service.py`     | `get_borrower_history(lnr)`                 |


---

---

## ğŸ’» Usage

### Running SQL Scripts
- Database schema creation: `sql/create_database.sql`
- Sample queries: `sql/queries.sql`

### Python Integration
The Python modules in the `python/` directory provide functions to:
- Connect to the database (`db_connection.py`)
- Manage book data (`book_functions.py`)
- Handle loan operations (`loan_functions.py`)

---

## ğŸ™ Acknowledgments
- Gokstad Akademiet for providing the assignment requirements
- MySQL and Python communities for excellent documentation
- Contributors and reviewers of this project
- Some AI help have been used, documentations for this can be found [here](./.docs/AI-Help)

---

## ğŸ“š Resources
- [MySQL Documentation](https://dev.mysql.com/doc/)
- [Python MySQL Connector Documentation](https://dev.mysql.com/doc/connector-python/en/)
- [Database Design Best Practices](https://www.guru99.com/database-design.html)
- [Getting Started with MySQL Connector/Python](https://www.mysqltutorial.org/python-mysql/getting-started-mysql-python-connector/)

---

## ğŸ¤– AI Documentation
This project utilized AI assistance for:
- Code structure optimization
- Documentation template creation
- SQL query validation

**AI Tools Used:**
- ChatGPT
- DeepSeek

**AI Contribution Areas:**
- Database schema design review
- SQL query optimization suggestions
- Python code structure recommendations
- Documentation template generation

---

## ğŸ“„ License
This project is licensed under the MIT License.  
See the LICENSE file for details.

---

## ğŸ“ Contact
**Christopher TÃ¸nnesland**   
ğŸŒ Website: [ChrisDev](https://www.chrisDev.no)

---

*Last updated: 2025-10-27*
```